{% extends 'scheduling/base.html' %}
{% load static %}
{% block styles %}
    <link rel="stylesheet" href="{% static 'scheduling/css/index.css' %}" />
{% endblock %}
{% block content %}
<section>
    <h2>Totem de Autoatendimento</h2>
    <form method="post" id="booking-form">
        {% csrf_token %}
        <div class="grid">
            <div>
                <label>Serviço</label>
                <select name="service" id="service-select" required>
                    <option value="">Selecione</option>
                    {% for s in services %}
                    <option value="{{ s.key }}">{{ s.label }} - R${{ s.price }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label>Barbeiro</label>
                <select name="barber" id="barber-select" required>
                    <option value="">Selecione</option>
                    {% for b in barbers %}
                    <option value="{{ b }}">{{ b }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label>Data</label>
                <select name="date" id="date-select" required>
                    <option value="">Selecione</option>
                    {% for d in days %}
                    <option value="{{ d|date:'Y-m-d' }}">{{ d|date:'d/m/Y' }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label>Horário</label>
                <input type="hidden" name="hour" id="hour-input" required />
                <div id="hours-board" class="hours"></div>
            </div>
            <div>
                <label>Nome</label>
                <input type="text" name="client_name" id="client-name" required />
            </div>
        </div>
        <button type="submit">Agendar</button>
    </form>
</section>
{% endblock %}
